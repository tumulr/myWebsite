---
interface Props {
    code: string;
    language?: string;
    filename?: string;
}

const { code, language = "plaintext", filename } = Astro.props;
---

<div class="code-snippet">
    {filename && <div class="code-filename">{filename}</div>}
    <pre class={`language-${language}`}><code class={`language-${language}`}>{code}</code></pre>
</div>

<style>
    .code-snippet {
        margin: 1.5rem 0;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    .code-filename {
        background-color: #f0f0f0;
        color: #333;
        font-family: monospace;
        font-size: 0.9rem;
        padding: 0.5rem 1rem;
        border-bottom: 1px solid #ddd;
    }

    pre {
        margin: 0;
        padding: 1.25rem;
        overflow-x: auto;
        background-color: #f8f8f8;
        color: #333;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    }

    code {
        font-family: Menlo, Monaco, Consolas, 'Courier New', monospace;
        font-size: 0.9rem;
        line-height: 1.6;
    }

    /* Basic syntax highlighting colors for light theme */
    :global(.token.comment),
    :global(.token.prolog),
    :global(.token.doctype),
    :global(.token.cdata) {
        color: #708090;
    }

    :global(.token.punctuation) {
        color: #444;
    }

    :global(.token.tag),
    :global(.token.attr-name),
    :global(.token.namespace),
    :global(.token.deleted) {
        color: #c92c2c;
    }

    :global(.token.function-name) {
        color: #2c7ad6;
    }

    :global(.token.boolean),
    :global(.token.number),
    :global(.token.function) {
        color: #d73a49;
    }

    :global(.token.property),
    :global(.token.class-name),
    :global(.token.constant),
    :global(.token.symbol) {
        color: #e36209;
    }

    :global(.token.selector),
    :global(.token.important),
    :global(.token.atrule),
    :global(.token.keyword),
    :global(.token.builtin) {
        color: #6f42c1;
    }

    :global(.token.string),
    :global(.token.char),
    :global(.token.attr-value),
    :global(.token.regex),
    :global(.token.variable) {
        color: #22863a;
    }

    :global(.token.operator),
    :global(.token.entity),
    :global(.token.url) {
        color: #005cc5;
    }
</style>